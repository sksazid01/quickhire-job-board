(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{997:(e,r,a)=>{Promise.resolve().then(a.bind(a,1410))},1410:(e,r,a)=>{"use strict";a.d(r,{AdminPage:()=>d});var t=a(5155),o=a(8500),s=a.n(o),l=a(2115),n=a(2356),c=a(2238);let i={title:"",company:"",location:"",category:"",description:"",employment_type:"",salary_range:""};function d(){let[e,r]=(0,l.useState)([]),[a,o]=(0,l.useState)(i),[d,m]=(0,l.useState)(!0),[x,u]=(0,l.useState)(""),[p,b]=(0,l.useState)(""),[f,h]=(0,l.useTransition)();async function g(){try{let e=await (0,n._S)(a);r(r=>[e,...r]),o(i),u("Job listing added."),b("")}catch(e){u(""),b(e instanceof Error?e.message:"Unable to create job.")}}async function v(e){try{await (0,n.XX)(e),r(r=>r.filter(r=>r.id!==e)),u("Job listing deleted."),b("")}catch(e){u(""),b(e instanceof Error?e.message:"Unable to delete job.")}}return(0,l.useEffect)(()=>{let e=new AbortController;return(0,n.vA)({search:"",category:"",location:""},e.signal).then(e=>{r(e)}).catch(r=>{e.signal.aborted||b(r instanceof Error?r.message:"Unable to load jobs.")}).finally(()=>{e.signal.aborted||m(!1)}),()=>e.abort()},[]),(0,t.jsxs)("div",{className:"min-h-screen pb-16",children:[(0,t.jsx)(c.D,{}),(0,t.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-8 sm:px-6 lg:px-8",children:[(0,t.jsxs)("section",{className:"rounded-[36px] border border-black/8 bg-[linear-gradient(135deg,rgba(255,255,255,0.96),rgba(223,236,255,0.92))] p-8 shadow-[0_24px_90px_rgba(16,24,40,0.08)]",children:[(0,t.jsx)("p",{className:"text-sm font-semibold uppercase tracking-[0.28em] text-[var(--color-accent)]",children:"Admin panel"}),(0,t.jsxs)("div",{className:"mt-4 flex flex-col gap-6 lg:flex-row lg:items-end lg:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-[family-name:var(--font-display)] text-4xl font-semibold leading-tight text-[var(--color-foreground)] md:text-5xl",children:"Manage openings without leaving the board."}),(0,t.jsx)("p",{className:"mt-4 max-w-2xl text-lg leading-8 text-[var(--color-muted)]",children:"Add new roles, remove closed listings, and quickly jump into the public job detail pages to verify what candidates see."})]}),(0,t.jsxs)("div",{className:"rounded-[28px] bg-white/80 px-6 py-5",children:[(0,t.jsx)("p",{className:"text-sm font-semibold uppercase tracking-[0.18em] text-[var(--color-muted)]",children:"Active listings"}),(0,t.jsx)("p",{className:"mt-3 font-[family-name:var(--font-display)] text-5xl font-semibold text-[var(--color-foreground)]",children:e.length})]})]})]}),(0,t.jsxs)("section",{className:"mt-8 grid gap-8 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)]",children:[(0,t.jsxs)("form",{className:"rounded-[32px] border border-black/8 bg-white p-6 shadow-[0_24px_80px_rgba(16,24,40,0.08)]",onSubmit:e=>{e.preventDefault(),u(""),b(""),h(()=>{g()})},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-semibold uppercase tracking-[0.24em] text-[var(--color-accent)]",children:"Add listing"}),(0,t.jsx)("h2",{className:"font-[family-name:var(--font-display)] text-3xl font-semibold text-[var(--color-foreground)]",children:"Create a new job"})]}),(0,t.jsxs)("div",{className:"mt-6 grid gap-4",children:[(0,t.jsxs)("label",{className:"space-y-2 text-sm font-medium text-[var(--color-foreground)]",children:[(0,t.jsx)("span",{children:"Title"}),(0,t.jsx)("input",{type:"text",value:a.title,onChange:e=>o(r=>({...r,title:e.target.value})),className:"w-full rounded-2xl border border-black/10 bg-[var(--color-surface)] px-4 py-3 outline-none transition focus:border-[var(--color-accent)]",required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-2 text-sm font-medium text-[var(--color-foreground)]",children:[(0,t.jsx)("span",{children:"Company"}),(0,t.jsx)("input",{type:"text",value:a.company,onChange:e=>o(r=>({...r,company:e.target.value})),className:"w-full rounded-2xl border border-black/10 bg-[var(--color-surface)] px-4 py-3 outline-none transition focus:border-[var(--color-accent)]",required:!0})]}),(0,t.jsxs)("label",{className:"space-y-2 text-sm font-medium text-[var(--color-foreground)]",children:[(0,t.jsx)("span",{children:"Location"}),(0,t.jsx)("input",{type:"text",value:a.location,onChange:e=>o(r=>({...r,location:e.target.value})),className:"w-full rounded-2xl border border-black/10 bg-[var(--color-surface)] px-4 py-3 outline-none transition focus:border-[var(--color-accent)]",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-2 text-sm font-medium text-[var(--color-foreground)]",children:[(0,t.jsx)("span",{children:"Category"}),(0,t.jsx)("input",{type:"text",value:a.category,onChange:e=>o(r=>({...r,category:e.target.value})),className:"w-full rounded-2xl border border-black/10 bg-[var(--color-surface)] px-4 py-3 outline-none transition focus:border-[var(--color-accent)]",required:!0})]}),(0,t.jsxs)("label",{className:"space-y-2 text-sm font-medium text-[var(--color-foreground)]",children:[(0,t.jsx)("span",{children:"Employment Type"}),(0,t.jsx)("input",{type:"text",value:a.employment_type,onChange:e=>o(r=>({...r,employment_type:e.target.value})),className:"w-full rounded-2xl border border-black/10 bg-[var(--color-surface)] px-4 py-3 outline-none transition focus:border-[var(--color-accent)]",placeholder:"Full-time",required:!0})]})]}),(0,t.jsxs)("label",{className:"space-y-2 text-sm font-medium text-[var(--color-foreground)]",children:[(0,t.jsx)("span",{children:"Salary Range"}),(0,t.jsx)("input",{type:"text",value:a.salary_range,onChange:e=>o(r=>({...r,salary_range:e.target.value})),className:"w-full rounded-2xl border border-black/10 bg-[var(--color-surface)] px-4 py-3 outline-none transition focus:border-[var(--color-accent)]",placeholder:"$90k - $110k",required:!0})]}),(0,t.jsxs)("label",{className:"space-y-2 text-sm font-medium text-[var(--color-foreground)]",children:[(0,t.jsx)("span",{children:"Description"}),(0,t.jsx)("textarea",{value:a.description,onChange:e=>o(r=>({...r,description:e.target.value})),className:"min-h-40 w-full rounded-2xl border border-black/10 bg-[var(--color-surface)] px-4 py-3 outline-none transition focus:border-[var(--color-accent)]",required:!0})]})]}),p?(0,t.jsx)("p",{className:"mt-4 text-sm font-medium text-red-600",children:p}):null,x?(0,t.jsx)("p",{className:"mt-4 text-sm font-medium text-emerald-700",children:x}):null,(0,t.jsx)("button",{type:"submit",disabled:f,className:"mt-6 inline-flex w-full items-center justify-center rounded-full bg-[var(--color-accent)] px-5 py-3 text-base font-semibold text-white transition hover:bg-[color:var(--color-accent-deep)] disabled:cursor-not-allowed disabled:opacity-60",children:f?"Saving...":"Publish Job"})]}),(0,t.jsxs)("section",{className:"rounded-[32px] border border-black/8 bg-white p-6 shadow-[0_24px_80px_rgba(16,24,40,0.08)]",children:[(0,t.jsx)("div",{className:"flex items-center justify-between gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold uppercase tracking-[0.24em] text-[var(--color-accent)]",children:"Listings"}),(0,t.jsx)("h2",{className:"mt-2 font-[family-name:var(--font-display)] text-3xl font-semibold text-[var(--color-foreground)]",children:"Current jobs"})]})}),d?(0,t.jsx)("div",{className:"mt-6 space-y-4",children:Array.from({length:4}).map((e,r)=>(0,t.jsxs)("div",{className:"rounded-[24px] border border-black/8 bg-[var(--color-surface)] p-5",children:[(0,t.jsx)("div",{className:"h-8 w-1/2 animate-pulse rounded-2xl bg-black/8"}),(0,t.jsx)("div",{className:"mt-3 h-5 w-1/3 animate-pulse rounded-2xl bg-black/8"})]},r))}):null,d||e.length?null:(0,t.jsx)("div",{className:"mt-6 rounded-[24px] border border-dashed border-black/14 bg-[var(--color-surface)] p-8 text-center",children:(0,t.jsx)("p",{className:"text-base text-[var(--color-muted)]",children:"No jobs yet. Add the first opening from the form."})}),!d&&e.length?(0,t.jsx)("div",{className:"mt-6 space-y-4",children:e.map(e=>(0,t.jsx)("article",{className:"rounded-[24px] border border-black/8 bg-[var(--color-surface)] p-5",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-[family-name:var(--font-display)] text-2xl font-semibold text-[var(--color-foreground)]",children:e.title}),(0,t.jsxs)("p",{className:"mt-2 text-sm text-[var(--color-muted)]",children:[e.company," • ",e.location," • ",e.category]}),(0,t.jsxs)("p",{className:"mt-3 text-sm text-[var(--color-muted)]",children:[e.salary_range," • ",e.application_count," applications"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsx)(s(),{href:`/jobs/${e.id}`,className:"rounded-full border border-black/10 px-4 py-2 text-sm font-semibold text-[var(--color-muted)] transition hover:border-[var(--color-accent)] hover:text-[var(--color-accent)]",children:"View"}),(0,t.jsx)("button",{type:"button",onClick:()=>{u(""),b(""),h(()=>{v(e.id)})},disabled:f,className:"rounded-full bg-[var(--color-foreground)] px-4 py-2 text-sm font-semibold text-white transition hover:bg-black disabled:cursor-not-allowed disabled:opacity-60",children:"Delete"})]})]})},e.id))}):null]})]})]})]})}},2238:(e,r,a)=>{"use strict";a.d(r,{D:()=>l});var t=a(5155),o=a(8500),s=a.n(o);function l(){return(0,t.jsx)("header",{className:"border-b border-black/8 bg-white/70 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-4 px-4 py-5 sm:px-6 lg:flex-row lg:items-center lg:justify-between lg:px-8",children:[(0,t.jsxs)(s(),{href:"/",className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-[var(--color-accent)] font-[family-name:var(--font-display)] text-lg font-semibold text-white",children:"Q"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-[family-name:var(--font-display)] text-xl font-semibold text-[var(--color-foreground)]",children:"QuickHire"}),(0,t.jsx)("p",{className:"text-sm text-[var(--color-muted)]",children:"Modern hiring for fast-moving teams"})]})]}),(0,t.jsxs)("nav",{className:"flex flex-wrap items-center gap-3 text-sm font-semibold text-[var(--color-muted)]",children:[(0,t.jsx)(s(),{href:"/",className:"rounded-full border border-black/10 px-4 py-2 transition hover:border-[var(--color-accent)] hover:text-[var(--color-accent)]",children:"Explore Jobs"}),(0,t.jsx)(s(),{href:"/admin",className:"rounded-full border border-black/10 px-4 py-2 transition hover:border-[var(--color-accent)] hover:text-[var(--color-accent)]",children:"Admin Panel"})]})]})})}},2356:(e,r,a)=>{"use strict";a.d(r,{$:()=>c,Rg:()=>m,WD:()=>n,XX:()=>d,_S:()=>i,vA:()=>l});var t=a(1463);let o=t.env.NEXT_PUBLIC_API_BASE_URL?.replace(/\/$/,"")||"http://localhost:4000";async function s(e,r){let a=await fetch(`${o}${e}`,{...r,headers:{"Content-Type":"application/json",...r?.headers||{}}}),t=a.headers.get("content-type")?.includes("application/json")?await a.json():null;if(!a.ok)throw Error(t?.errors?.join(" ")||t?.message||"Request failed. Please try again.");return t}async function l(e,r){let a=function(e,r){let a=new URL(`${o}${e}`);if(r)for(let[e,t]of Object.entries(r))t&&a.searchParams.set(e,t);return a.toString()}("/api/jobs",e),t=await fetch(a,{signal:r,cache:"no-store"});if(!t.ok)throw Error("Unable to load job listings.");return await t.json()}async function n(e,r){let a=await fetch(`${o}/api/jobs/${e}`,{signal:r,cache:"no-store"});if(404===a.status)throw Error("This job could not be found.");if(!a.ok)throw Error("Unable to load job details.");return await a.json()}function c(e){return s("/api/jobs/meta",{method:"GET",signal:e})}function i(e){return s("/api/jobs",{method:"POST",body:JSON.stringify(e)})}async function d(e){await s(`/api/jobs/${e}`,{method:"DELETE"})}function m(e){return s("/api/applications",{method:"POST",body:JSON.stringify(e)})}}},e=>{e.O(0,[500,441,794,358],()=>e(e.s=997)),_N_E=e.O()}]);